<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-link { display: block; margin: 10px 0; padding: 10px; background: #f0f0f0; text-decoration: none; color: #333; }
        .test-link:hover { background: #e0e0e0; }
        .result { margin: 10px 0; padding: 10px; border: 1px solid #ccc; }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .error { background: #f8d7da; border-color: #f5c6cb; }
    </style>
</head>
<body>
    <h1>Hash Navigation Test</h1>
    
    <h2>Test Links (should navigate to specific members):</h2>
    <a href="arvore-genealogica.html#N%20-%201.1.2.1" class="test-link">Test: N - 1.1.2.1 (REGINA)</a>
    <a href="arvore-genealogica.html#N%20-%201.1.2.2" class="test-link">Test: N - 1.1.2.2 (AMABILE RISSA GRIS)</a>
    <a href="arvore-genealogica.html#BN%20-%201.1.2.2.1" class="test-link">Test: BN - 1.1.2.2.1 (Child of AMABILE)</a>
    <a href="arvore-genealogica.html#BN%20-%201.1.2.2.2" class="test-link">Test: BN - 1.1.2.2.2 (Child of AMABILE)</a>
    
    <h2>Simple ID Tests:</h2>
    <a href="arvore-genealogica.html#1.1" class="test-link">Test: 1.1 (LUIGI DI ANGELO GRIZZO)</a>
    <a href="arvore-genealogica.html#F%20-%201.1.1" class="test-link">Test: F - 1.1.1 (ELISABETHA GIOVANNA PIA)</a>
    
    <h2>Current URL:</h2>
    <div id="current-url" class="result"></div>
    
    <h2>Navigation Results:</h2>
    <div id="results"></div>
    
    <script>
        // Update current URL display
        function updateCurrentUrl() {
            document.getElementById('current-url').textContent = window.location.href;
        }
        
        // Test navigation
        function testNavigation() {
            const hash = window.location.hash.substring(1);
            if (hash) {
                const decodedHash = decodeURIComponent(hash);
                const resultsDiv = document.getElementById('results');
                
                // Simulate the navigation logic
                const testCases = [
                    { original: hash, decoded: decodedHash },
                    { original: hash, decoded: decodeURIComponent(decodedHash) },
                    { original: hash.replace(/\s+/g, ''), decoded: decodedHash.replace(/\s+/g, '') }
                ];
                
                let resultHtml = '<h3>Navigation Test Results:</h3>';
                resultHtml += `<p><strong>Original Hash:</strong> ${hash}</p>`;
                resultHtml += `<p><strong>Decoded Hash:</strong> ${decodedHash}</p>`;
                
                testCases.forEach((testCase, index) => {
                    resultHtml += `<p><strong>Test ${index + 1}:</strong> Original="${testCase.original}" Decoded="${testCase.decoded}"</p>`;
                });
                
                resultsDiv.innerHTML = resultHtml;
            }
        }
        
        // Update on page load and hash change
        updateCurrentUrl();
        testNavigation();
        
        window.addEventListener('hashchange', () => {
            updateCurrentUrl();
            testNavigation();
        });
    </script>
</body>
</html>
